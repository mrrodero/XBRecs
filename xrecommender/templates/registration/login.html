{% extends "base_generic.html" %}

{% block title %}
  Iniciar Sesión
{% endblock %}

{% block content %}
<div class="overflow-auto main-container">
    <div class="p-4">
    {% if form.errors %}
      <p>Tu usuario y contraseña no coinciden. Inténtalo de nuevo.</p>
    {% endif %}
    
    {% if next %}
      {% if user.is_authenticated %}
        <p>No puedes acceder a esta página con tu cuenta. Por favor, inicia sesión con otra cuenta.</p>
      {% else %}
        <p>Por favor, inicia sesión para ver esta página.</p>
      {% endif %}
    {% endif %}
        
    <form method="post" action="{% url 'login' %}" class="ml-2">
      {% csrf_token %}
      <table>
        <tr>
          <td>{{ form.username.label_tag }}</td>
          <td>{{ form.username }}</td>
        </tr>
        <tr>
          <td>{{ form.password.label_tag }}</td>
          <td>{{ form.password }}</td>
        </tr>
      </table>
      <input class="btn bg-light border border-dark rounded mt-2" type="submit" value="Iniciar Sesión">
      <input type="hidden" name="next" value="{{ next }}">
    </form>
  </div>
</div>
{% endblock %}